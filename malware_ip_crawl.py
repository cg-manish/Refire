

import requests
import json
import schedule


FEEDOTRACKER_URL="https://feodotracker.abuse.ch/downloads/ipblocklist_recommended.json"

LATEST_MALWARE_IPS=[]




def get_feedotracker_malware_ips():
    response=requests.get(FEEDOTRACKER_URL)
    data=response.json()
    ip_list=[]
    # print(data)
    for item in data:
        ip_list.append(item["ip_address"])
    LATEST_MALWARE_IPS=ip_list
    print(f"[INFO] Updated malware IPs list is: {LATEST_MALWARE_IPS}")


    print(LATEST_MALWARE_IPS)



def update_botnet_ips():
    schedule.every().hour.do(get_feedotracker_malware_ips)